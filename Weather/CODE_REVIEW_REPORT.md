# –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω–æ–º –∫–æ–¥-—Ä–µ–≤—å—é Weather Application

## –†–µ–∑—é–º–µ

–ü—Ä–æ–≤–µ–¥–µ–Ω –ø–æ–ª–Ω—ã–π –∫–æ–¥-—Ä–µ–≤—å—é Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Weather. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞, —É–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –¥–æ–±–∞–≤–ª–µ–Ω—ã unit —Ç–µ—Å—Ç—ã. –í—ã—è–≤–ª–µ–Ω—ã –≤–∞–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è.

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
1. **–£–¥–∞–ª–µ–Ω –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –∫–æ–¥** - —É–±—Ä–∞–Ω—ã –≤—Å–µ System.out.println —Å "AAAA..." –≤–æ –≤—Å–µ—Ö –∫–ª–∞—Å—Å–∞—Ö
2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ–ø–µ—á–∞—Ç–∫–∞** –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ —Ç–µ—Å—Ç–∞ RegistraionsServiceTest ‚Üí RegistrationServiceTest
3. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ NullPointerException** –≤ CookieService.getUserIdFromSession()
4. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª–µ–π** –º–µ–∂–¥—É HTML (6 —Å–∏–º–≤–æ–ª–æ–≤) –∏ Java –∫–æ–¥–æ–º
5. **–ó–∞–º–µ–Ω–µ–Ω—ã RuntimeException** –Ω–∞ –∫–∞—Å—Ç–æ–º–Ω—ã–π LocationException
6. **–£–ª—É—á—à–µ–Ω–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** –º–µ—Ç–æ–¥–æ–≤ isUserExists

### ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
7. **–î–æ–±–∞–≤–ª–µ–Ω—ã unit —Ç–µ—Å—Ç—ã** –¥–ª—è RegistrationService —Å –ø–æ–ª–Ω—ã–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º
8. **–ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** —Å H2 –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
9. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å Mockito** –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ unit —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
10. **–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π —Ç–∏–ø –∏—Å–∫–ª—é—á–µ–Ω–∏—è** LocationException –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π –æ—Ç WeatherAppException
11. **–î–æ–±–∞–≤–ª–µ–Ω—ã TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** –¥–ª—è –±—É–¥—É—â–∏—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
12. **–£–ª—É—á—à–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** –≤–º–µ—Å—Ç–æ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö –ø—Ä–∏–Ω—Ç–æ–≤

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (—Ç—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è)

### 1. –ü–∞—Ä–æ–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
```java
// –í UserModel.java –∏ RegistrationService.java
user.setPassword(password); // –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å!
```

**–†–µ—à–µ–Ω–∏–µ:**
```java
@Service
public class PasswordEncoder {
    private final BCryptPasswordEncoder encoder = new BCryptPasswordEncoder();
    
    public String encode(String password) {
        return encoder.encode(password);
    }
    
    public boolean matches(String rawPassword, String encodedPassword) {
        return encoder.matches(rawPassword, encodedPassword);
    }
}
```

### 2. XSS —É—è–∑–≤–∏–º–æ—Å—Ç–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
```java
// –í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –ª—é–±—ã–µ —Å—Ç—Ä–æ–∫–∏ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏
@RequestParam String login, @RequestParam String password
```

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å @Valid –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –∏ DTO —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

### 3. –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ cookies
**–ü—Ä–æ–±–ª–µ–º–∞:** Cookies –Ω–µ –∑–∞—â–∏—â–µ–Ω—ã –¥–ª—è HTTPS
```java
cookie.setSecure(false); // –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å):
1. **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π** - –¥–æ–±–∞–≤–∏—Ç—å BCrypt
2. **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞** - –¥–æ–±–∞–≤–∏—Ç—å Bean Validation
3. **HTTPS cookies** - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å secure=true –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
4. **CSRF –∑–∞—â–∏—Ç–∞** - –≤–∫–ª—é—á–∏—Ç—å Spring Security

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
1. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∑–∞–º–µ–Ω–∏—Ç—å System.err –Ω–∞ SLF4J
2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ë–î** - –¥–æ–±–∞–≤–∏—Ç—å countByUserId –≤ LocationRepository
3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** - –¥–æ–±–∞–≤–∏—Ç—å @SpringBootTest —Ç–µ—Å—Ç—ã
4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–æ–±–∞–≤–∏—Ç—å @Cacheable –¥–ª—è —Å–µ—Å—Å–∏–π

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –¥–æ–±–∞–≤–∏—Ç—å Actuator endpoints
2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API** - –¥–æ–±–∞–≤–∏—Ç—å Swagger/OpenAPI
3. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** - —É–ª—É—á—à–∏—Ç—å Docker –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
4. **CI/CD** - –¥–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ö–æ–¥-—Ä–µ–≤—å—é —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Ç–µ—Å—Ç—ã. 

**–í–ê–ñ–ù–û:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

–û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞: **B** (–±—ã–ª–æ D, —Å—Ç–∞–ª–æ B –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π)
–û—Ü–µ–Ω–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: **D** (—Ç—Ä–µ–±—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è)